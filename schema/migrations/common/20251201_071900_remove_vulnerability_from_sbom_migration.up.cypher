/*
 * Migration: Remove Vulnerability Schema from SBOM Enhancement Migration
 * Version: 2025.12.01.071900
 * Author: Ona
 * 
 * Description:
 * This migration consolidates the removal of vulnerability-related schema that was
 * originally added in migration 20251102_180000_enhance_component_for_sbom.up.cypher
 * and later removed in migration 20251125_074808_remove_vulnerability_node.up.cypher.
 * 
 * This is a no-op migration that documents the decision to exclude vulnerability
 * management from Polaris (see ADR-0003). The vulnerability schema was already
 * removed by migration 20251125_074808, so this migration serves as documentation
 * and ensures consistency in the migration history.
 *
 * Background:
 * - Migration 20251102_180000 added Vulnerability node type with constraints/indexes
 * - Migration 20251125_074808 removed all Vulnerability nodes and schema
 * - ADR-0003 documents the decision to exclude CVE/vulnerability management
 * - Polaris focuses on technology governance; security tools handle vulnerabilities
 *
 * Dependencies:
 * - 20251125_074808_remove_vulnerability_node.up.cypher (already applied)
 *
 * Rollback: See corresponding .down.cypher file
 */

// ============================================================================
// NO-OP MIGRATION - VULNERABILITY SCHEMA ALREADY REMOVED
// ============================================================================

// This migration is intentionally empty. The vulnerability schema was already
// removed by migration 20251125_074808_remove_vulnerability_node.up.cypher.
// 
// This migration exists to:
// 1. Document the consolidation of vulnerability removal
// 2. Provide a clear migration history
// 3. Reference ADR-0003 for the architectural decision
//
// The following schema elements were removed by migration 20251125_074808:
// - CONSTRAINT vulnerability_id_unique
// - INDEX vulnerability_severity
// - INDEX vulnerability_cvss_score
// - INDEX vulnerability_published_date
// - All Vulnerability nodes and relationships

// ============================================================================
// MIGRATION TRACKING
// ============================================================================

CREATE (m:Migration {
  version: '20251201_071900',
  name: 'remove_vulnerability_from_sbom_migration',
  appliedAt: datetime(),
  description: 'Consolidates vulnerability schema removal (no-op, already removed by 20251125_074808)',
  references: 'ADR-0003: Exclude CVE and Vulnerability Management'
});
